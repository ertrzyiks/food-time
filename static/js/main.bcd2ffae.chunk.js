(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{60:function(e,t,n){e.exports=n(91)},65:function(e,t,n){},81:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),i=n.n(c),l=(n(65),n(48)),o=n(36),u=n(37),m=(n(57),n(29)),s=n(32),d=n(116),p=n(34),f=n(119),E=n(120),v=n(121),b=n(122),h=n(123),w=n(56),g=n.n(w),j=n(118),O=n(117),I=n(49),y=n(50),k=n.n(y);n(81);function $(){var e=Object(o.a)(["\n  mutation CreateEntry($spaceId: String!, $time: Int!) {\n    createEntry(spaceId: $spaceId, time: $time) {\n      id\n    }\n  }\n"]);return $=function(){return e},e}function C(){var e=Object(o.a)(["\n  query getEntries($spaceId: String!) {\n    entries(spaceId: $spaceId) {\n      id\n      time\n    }\n  }\n"]);return C=function(){return e},e}function x(e){var t=e.text,n=e.last,c=Object(a.useState)(0),i=Object(u.a)(c,2),l=i[0],o=i[1];return function(e,t){var n=Object(a.useRef)();Object(a.useEffect)(function(){n.current=e},[e]),Object(a.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}(function(){o(l+1)},3e4),n?r.a.createElement("span",null,t,": ",function(e){var t=e/1e3/60;return t<1?"< 1min":"".concat(Math.round(t)," min")}(Date.now()-n.now)):null}var S=Object(m.b)(C()),A=Object(m.b)($());var D=function(e){Object(l.a)(e);var t=Object(s.b)(S,{variables:{spaceId:"1"}}),n=t.loading,a=t.data,c=Object(s.a)(A,{variables:{time:Math.round(Date.now()/1e3),spaceId:"1"},refetchQueries:["getEntries"]}),i=Object(u.a)(c,1)[0];return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},!n&&r.a.createElement(p.a,{variant:"h5",component:"p"},r.a.createElement(x,{text:"Since last event",last:0})),r.a.createElement(d.a,{variant:"contained",size:"large",color:"primary",onClick:function(){return i()}},"Now")),r.a.createElement(O.a,{maxWidth:"sm"},r.a.createElement(j.a,null,!n&&a&&a.entries.length>0&&r.a.createElement(f.a,null,r.a.createElement(I.AnimateGroup,null,a.entries.map(function(e){var t,n=e.time,a=e.elapsedTime,c=e.id;return r.a.createElement(E.a,{key:c},r.a.createElement(v.a,{primary:(t=n,k()(new Date(t),"HH:mm"))}),a&&a<36e5&&r.a.createElement(b.a,null,r.a.createElement(h.a,{edge:"end","aria-label":"Comments",onClick:function(){}},r.a.createElement(g.a,null))))}))),!n&&a&&0===a.entries.length&&r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(v.a,{primary:"Click the button to start measuring intervals"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n(12),W=new m.a({uri:"http://papi.ertrzyiks.me/food-time"});i.a.render(r.a.createElement(N.a,{client:W},r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[60,1,2]]]);
//# sourceMappingURL=main.bcd2ffae.chunk.js.map